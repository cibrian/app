<!DOCTYPE html> 
<html>
<head>
<meta charset="UTF-8">
<title>Aplic. Web de jQuery Mobile</title>
<link href="jquery.mobile-1.0.min.css" rel="stylesheet" type="text/css"/>
<script src="jquery-1.6.4.min.js" type="text/javascript"></script>
<script src="jquery.mobile-1.0.min.js" type="text/javascript"></script>
<script src="cordova.js" type="text/javascript"> </script>

<script src="main.js" type="text/javascript"></script>
<script src="purl.js" type="text/javascript"></script>

<script>


function agregarCliente(){
     db.transaction(agregarClienteSql, errorClientes, successClientes);
    }
	
		function agregarClienteSql(tx) {
			name = $("#Nombre").attr('value');
	       team = $("#RFC").attr('value');
        tx.executeSql('INSERT INTO SoccerPlayer(Name,Club) VALUES ("'+name+'", "'+team+'")');
		
	$("#Nombre").val('');
	$("#RFC").val('');	
		}
		
		function actualizarCliente(){
     db.transaction(actualizarClienteSql, errorClientes, successClientes);
	 $.mobile.changePage("#page", {transition : "slide"});
    }
	
		function actualizarClienteSql(tx) {
			nameNew = $("#nombreInput").attr('value');
	       teamNew = $("#rfcInput").attr('value');
        tx.executeSql('UPDATE SoccerPlayer SET Name="'+nameNew+'", Club="'+teamNew+'" WHERE id='+ident+'');
		}
	
	
	 function eliminarCliente(){
     db.transaction(eliminarClienteSql, errorClientes, successClientes);
	 $.mobile.changePage("#page", {transition : "slide"});	
    }
	
		
	function eliminarClienteSql(tx) {
    tx.executeSql('DELETE FROM SoccerPlayer WHERE id='+ident+'');
	}
		
		


$('#listaClientes li').live('click', function() {
	ident=$(this).attr("id");
	db.transaction(editarCliente,errorClientes);
	$.mobile.changePage("#page3", {transition : "slide"});
});



</script>


</head> 
<body>





<div data-role="page" id="page">
  <div data-role="header" data-position="fixed" data-theme="d">
    <h1>Facturaci√≥n</h1>
    <div data-role="navbar">
            <ul>
                <li><a href="#page" data-transition="none" data-icon="plus">Clientes</a></li>
                
            </ul>
        </div>
    
  </div>

  <div data-role="content">
    <label for="textfield">Nombre:</label>
    <input type="text" name="textfield" id="Nombre">
    <label for="textfield2">RFC :</label>
    
    <input type="text" name="textfield2"  id="RFC">
    <button onClick="agregarCliente();">Agregar</button>
<a href="#page2" data-role="button">Lista de clientes</a>

    <!--<button onClick="mover();" >Listado2</button>-->
   
   
   
    </div>
</div>


 
<div data-role="page" id="page2">
  <div data-role="header" data-position="fixed" data-theme="d">
  <a href="#" data-icon="back" data-iconpos="left" data-rel="back" data-transition="slide" data-direction="reverse">Home</a>
  
    <h1>Clientes</h1>
  </div>
  <div data-role="content">
     <ul data-role="listview" id="listaClientes" data-filter="true" data-filter-placeholder="Buscar clientes"
     data-autodividers="true" data-split-icon="gear" data-split-theme="d">
  
    
    </ul>
    
  
    
  </div>
</div>

<div data-role="page" id="page3">
  <div data-role="header" data-position="fixed" data-theme="d">
  <a href="#" data-icon="back" data-iconpos="left" data-rel="back" data-transition="slide" data-direction="reverse">Clientes</a>
  
    <h1>Clientes</h1>
  </div>
  <div data-role="content">
    <input id="nombreInput" type="text">
     <input id="rfcInput" type="text">
     <button onClick="actualizarCliente();" >Actualizar</button>
      <button onClick="eliminarCliente();" >Eliminar</button>
    
  
    
  </div>
</div>





</body>
</html>
